From 6689df024bce4309ec5884e445738fe07ee4ffcc Mon Sep 17 00:00:00 2001
From: Bram Moolenaar <Bram@vim.org>
Date: Wed, 22 Jun 2022 18:14:29 +0100
Subject: [PATCH] patch 8.2.5149: cannot build without the +eval feature

Problem:    Cannot build without the +eval feature. (Tony Mechelynck)
Solution:   Add #ifdefs.

--- vim-8.1.2269.orig/src/ex_getln.c
+++ vim-8.1.2269/src/ex_getln.c
@@ -785,7 +785,9 @@ getcmdline_int(
     int		init_ccline)	// clear ccline first
 {
     int		c;
+#ifdef FEAT_EVAL
     int		save_new_cmdpos = new_cmdpos;
+#endif
     int		i;
     int		j;
     int		gotesc = FALSE;		/* TRUE when <ESC> just typed */
@@ -1794,7 +1796,9 @@ getcmdline_int(
 		    }
 #endif
 		}
+#ifdef FEAT_EVAL
 		new_cmdpos = save_new_cmdpos;
+#endif
 		redrawcmd();
 		goto cmdline_changed;
 
